@model CookingHub.Models.InputModels.AdministratorInputModels.Recipes.RecipeCreateInputModel
@{
    this.ViewData["Title"] = "Create Recipe";

    var categories = Model.Categories.Select(x => new SelectListItem(x.Name, x.Id.ToString()));
}

<link rel="stylesheet" href="~/css/create-recipe.css">

<div class="container-fluid" id="grad1">
    <div class="row justify-content-center mt-0">
        <div class="col-11 col-sm-9 col-md-7 col-lg-6 text-center p-0 mt-3 mb-2">
            <div class="card px-0 pt-4 pb-0 mt-3 mb-3">
                <h2><strong>Create Recipe</strong></h2>
                <p>Fill all form fields to go to next step</p>
                <div class="row">
                    <div class="col-md-12 mx-0">
                        <form id="msform" asp-area="" asp-controller="Recipes" asp-action="Create" enctype="multipart/form-data" method="post">
                            <!-- progressbar -->
                            <ul id="progressbar">
                                <li class="active" id="account"><strong>Main info</strong></li>
                                <li id="personal"><strong>Extra info</strong></li>
                                <li id="payment"><strong>Preview</strong></li>
                                <li id="confirm"><strong>Finish</strong></li>
                            </ul> <!-- fieldsets -->
                            <fieldset>
                                <div class="form-card">
                                    <h2 class="fs-title">Main information</h2>
                                    <div class="form-group">
                                        <input asp-for="Name" class="form-control" placeholder="Name" />
                                        <span asp-validation-for="Name" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="Description"></label>
                                        <textarea asp-for="Description" class="form-control"></textarea>
                                        <span asp-validation-for="Description" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="Ingredients"></label>
                                        <textarea asp-for="Ingredients" class="form-control"></textarea>
                                        <span asp-validation-for="Ingredients" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="PreparationTime"></label>
                                        <input asp-for="PreparationTime" class="form-control" />
                                        <span asp-validation-for="PreparationTime" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="CookingTime"></label>
                                        <input asp-for="CookingTime" class="form-control cooking-time" />
                                        <span asp-validation-for="CookingTime" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="PortionsNumber"></label>
                                        <input asp-for="PortionsNumber" class="form-control" />
                                        <span asp-validation-for="PortionsNumber" class="text-danger"></span>
                                    </div>
                                </div>
                                <input type="button" name="next" class="next action-button" value="Next Step" />
                            </fieldset>
                            <fieldset>
                                <div class="form-card">
                                    <h2 class="fs-title">Extra Information</h2>
                                    <div class="form-group">
                                        <label asp-for="Image"></label>
                                        <input asp-for="Image" type="file" name="Image" />
                                        <span asp-validation-for="Image" class="text-danger"></span>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="Difficulty"></label>
                                        <div class="form-check">
                                            <label class="form-check-label">
                                                <input type="radio" asp-for="Difficulty" class="form-check-input" value="Easy">Easy
                                                <span asp-validation-for="Difficulty" class="text-danger"></span>
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <label class="form-check-label">
                                                <input type="radio" asp-for="Difficulty" class="form-check-input" value="Medium">Medium
                                                <span asp-validation-for="Difficulty" class="text-danger"></span>
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <label class="form-check-label">
                                                <input type="radio" asp-for="Difficulty" class="form-check-input" value="Hard">Hard
                                                <span asp-validation-for="Difficulty" class="text-danger"></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label asp-for="CategoryId"></label>
                                        <div class="container">
                                            <select asp-for="CategoryId" asp-items="categories" class="selectpicker">
                                                <option selected="" disabled="">
                                                    Select Category
                                                </option>
                                            </select>
                                        </div>
                                        <span asp-validation-for="CategoryId" class="text-danger"></span>
                                    </div>
                                </div>
                                <input type="button" name="previous" class="previous action-button-previous" value="Previous" />
                                <input type="button" name="next" class="next action-button" value="Next Step" />
                            </fieldset>
                            <fieldset>
                                <div class="form-card">
                                    <h2 class="fs-title">Preview</h2>
                                    <div class="row">
                                        <div class="col-9">
                                            <label asp-for="@Model.Name"></label>
                                            <input class="form-control" value="@Model.Name" disabled />
                                            <label asp-for="@Model.CategoryId"></label>
                                            <input asp-for="@Model.CategoryId" class="form-control" disabled />
                                        </div>
                                        <div class="col-9">
                                            <label asp-for="@Model.Description"></label>
                                            <textarea class="form-control" disabled>@Model.Description</textarea>
                                            <label asp-for="@Model.Ingredients"></label>
                                            <textarea class="form-control" disabled>@Model.Ingredients</textarea>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-9">
                                            <label asp-for="@Model.Difficulty"></label>
                                            <input class="form-control" value="@Model.Difficulty" disabled />
                                            <label asp-for="@Model.CategoryId"></label>
                                            <input class="form-control" value="@Model.CategoryId" disabled />
                                        </div>
                                        <div class="col-3">
                                            <label asp-for="@Model.PreparationTime"></label>
                                            <input class="form-control" value="@Model.PreparationTime" disabled />
                                            <label asp-for="@Model.CookingTime"></label>
                                            <input class="form-control" value="@Model.CookingTime" disabled />
                                            <label asp-for="@Model.PortionsNumber"></label>
                                            <input class="form-control" value="@Model.PortionsNumber" disabled />
                                        </div>
                                    </div>
                                </div>
                                <input type="button" name="previous" class="previous action-button-previous" value="Previous" />
                                <input type="submit" name="make_payment" class="next action-button" value="Confirm" />
                            </fieldset>
                            <fieldset>
                                <div class="form-card">
                                    <h2 class="fs-title text-center">Success</h2> <br><br>
                                    <div class="row justify-content-center">
                                        <div class="col-3">
                                            <img src="~/images/ok--v2.png" class="fit-image">
                                        </div>
                                    </div> <br><br>
                                    <div class="row justify-content-center">
                                        <div class="col-7 text-center">
                                            <h5>You Have Successfully Created Recipe</h5>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts
{
    <script src="/lib/tinymce/tinymce.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        tinymce.init({
            selector: "textarea",
            plugins: [
                "image paste table link code media"
            ]
        });
    </script>
    <script>
        $(document).ready(function () {

            var current_fs, next_fs, previous_fs; //fieldsets
            var opacity;

            $(".next").click(function () {

                current_fs = $(this).parent();
                next_fs = $(this).parent().next();

                //Add Class Active
                $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

                //show the next fieldset
                next_fs.show();

                //hide the current fieldset with style
                current_fs.animate({ opacity: 0 }, {
                    step: function (now) {
                        // for making fielset appear animation
                        opacity = 1 - now;

                        current_fs.css({
                            'display': 'none',
                            'position': 'relative'
                        });
                        next_fs.css({ 'opacity': opacity });
                    },
                    duration: 600
                });
            });

            $(".previous").click(function () {

                current_fs = $(this).parent();
                previous_fs = $(this).parent().prev();

                //Remove class active
                $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");

                //show the previous fieldset
                previous_fs.show();

                //hide the current fieldset with style
                current_fs.animate({ opacity: 0 }, {
                    step: function (now) {
                        // for making fielset appear animation
                        opacity = 1 - now;

                        current_fs.css({
                            'display': 'none',
                            'position': 'relative'
                        });
                        previous_fs.css({ 'opacity': opacity });
                    },
                    duration: 600
                });
            });

            $('.radio-group .radio').click(function () {
                $(this).parent().find('.radio').removeClass('selected');
                $(this).addClass('selected');
            });

            $(".submit").click(function () {
                return false;
            });
        });
    </script>
}